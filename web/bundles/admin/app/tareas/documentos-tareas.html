<!-- BEGIN PAGE HEADER-->
<style>
    td.details-control {
        background: url('bundles/admin/img/details_open.png') no-repeat center center;
        cursor: pointer;
    }

    tr.shown td.details-control {
        background: url('bundles/admin/img/details_close.png') no-repeat center center;
    }
</style>
<div class="page-bar">
    <ul class="page-breadcrumb">
        <li>
            <i class="fa fa-home"></i>
            <a href="#/dashboard">Inicio</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="#/dashboard">Tareas</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="#">Documentos de Tareas</a>
        </li>
    </ul>
</div>
<h3 class="page-title">
    Documentos de Tareas
</h3>


<!-- END PAGE HEADER-->
<!-- BEGIN MAIN CONTENT -->
<div class="row" id="lista-tarea">
    <div class="col-lg-12">
        <div class="portlet light">
            <div class="portlet-title">
                <div class="caption caption-md">
                    <i class="icon-doc font-apolo-sharp"></i>
                    <span class="caption-subject font-apolo-haze bold uppercase">{{ titulo}}</span>
                </div>
                <div class="actions">
                    <a href="javascript:;" class="btn btn-circle btn-icon-only btn-default fullscreen"
                       data-original-title="" title="">
                    </a>
                </div>
            </div>
            <div class="portlet-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="col-md-6" id="select-nivel-alerta">
                            <select data-ds-select2 class="form-control selectpicker" id="nivel-alerta" name="nivel-alerta" ng-model="nivelAlerta" ng-change="vm.seleccionarElemento({criticidad:true,cargo:false,area:false,direccion:false});">
                                <option value="">Seleccione nivel de alerta</option>
                                <option data-ng-repeat="item in vm.criticidades" value="{{item.criticidad_id}}">{{item.nombre}}</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div style="margin-bottom: 20px;"></div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="col-md-3" id="select-direccion" ng-if="vm.usuario.rol === 1">
                            <select data-ds-select2 class="form-control selectpicker" id="direccion" name="direccion" ng-model="direccion">
                                <option value="">Seleccione la dirección</option>
                                <option data-ng-repeat="item in vm.gerencias" value="{{item.gerencia_id}}">{{item.descripcion}}</option>
                            </select>
                        </div>
                        <div class="col-md-3" id="select-gerencia-filtro" ng-if="vm.usuario.rol === 1">
                            <select data-ds-select2 class="form-control selectpicker" id="gerencia-filtro" name="gerencia" ng-model="gerencia" ng-change="vm.seleccionarElemento({criticidad:false,cargo:false,area:true,direccion:false});">
                                <option value="">Seleccione la unidad</option>
                                <option data-ng-repeat="item in vm.areas" value="{{item.area_id}}">{{item.nombre}}</option>
                            </select>
                        </div>
                        <div class="col-md-3" id="select-cargo-filtro" ng-if="vm.usuario.rol === 1">
                            <select data-ds-select2 class="form-control selectpicker" id="cargo-filtro" name="cargo" ng-model="cargo" ng-change="vm.seleccionarElemento({criticidad:false,cargo:true,area:false,direccion:false});">
                                <option value="">Seleccione el cargo</option>
                                <option data-ng-repeat="item in vm.cargos" value="{{item.cargo_id}}">{{item.nombre}}</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <div class="input-group">
                                    <button
                                            class="btn btn-primary"
                                            type="button" ng-click="vm.filtarTareasCargo()">
                                        <i class="fa fa-search fa-fw"></i> Ver Tareas
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="table-container">
                    <table class="table table-striped table-bordered table-hover dt-responsive" id="tarea-table-editable">
                        <thead>
                            <tr>
                                <th></th>
                                <th class="min-tablet">Nombre</th>
                                <th class="min-tablet">Descripción</th>
                                <th class="min-tablet">Canales</th>
                                <th class="min-tablet">Acciones</th>
                            </tr>
                        </thead>
                        <tbody>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modal-modelo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" id=ventana-titulo" style="border-top-width: 20px">
            <div class="modal-header blue-hoki">
                <button aria-hidden="true" data-dismiss="modal" class="close" type="button"></button>
                <h4 class="modal-title">Agregar archivo</h4>
            </div>
            <div class="modal-body">
                <form class="" id="modelo-form" action="tarea/salvarModelo"
                      enctype="multipart/form-data" method="post">
                    <div class="form-body">
                        <div class="form-group ic-form-group">
                            <key>
                                <span class="ic-step-number">1</span>
                                Para comenzar, seleccione el archivo de la tarea <span
                                    class="ic-small italic">(obligatorio)</span>
                            </key>
                            <p class="help-block" translate>
                                Se admiten los siguentes formatos: Word - Presentaciones - Pdf - Excel - Imagenes - ZIP - RAR
                            </p>
                            <div class="row">
                                <div class="col-xs-8">
                                    <div id="fileinput-archivo" class="fileinput fileinput-new" data-provides="fileinput" style="position:relative;top: 10px;">
                                        <div class="input-group">
                                            <div class="form-control uneditable-input input-fixed"
                                                 data-trigger="fileinput">
                                                <i class="fa fa-file fileinput-exists"></i>&nbsp; <span
                                                    class="fileinput-filename">
                                                </span>
                                            </div>
                                            <span class="input-group-addon btn default btn-file">
                                                <span class="fileinput-new">
                                                    Seleccione
                                                </span>
                                                <span class="fileinput-exists">
                                                    Cambiar
                                                </span>
                                                <input type="file" name="file" id="file" required>
                                                <input type="hidden" name="nombreArchivo" id="nombre-archivo">
                                            </span>
                                            <a href="javascript:;"
                                               class="input-group-addon btn red fileinput-exists"
                                               data-dismiss="fileinput">
                                                Eliminar
                                            </a>
                                        </div>
                                    </div>
                                    <input type="text" name="nombre" id="archivo" style="display: none;position:relative;top:-28px;z-index:10000;height:32px;width:71%;padding-left:10px;border: 1px solid #e5e5e5;">
                                </div>
                            </div>
                        </div>
                        <div class="form-group ic-form-group">
                            <key>
                                <span class="ic-step-number">2</span>
                                Seguidamente, ingrese una descripción para el archivo <span
                                    class="ic-small italic">(opcional)</span>
                            </key>
                            <p class="help-block"></p>
                            <div class="row">
                                <div class="col-md-12">
                                    <textarea class="form-control" id="modelo-descripcion" name="descripcion" rows="3"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="form-group ic-form-group">
                            <key><span class="ic-step-number">3</span>Luego, define si el archivo estará activo</key>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <key class="radio-inline">
                                            <input type="radio" name="radioestado" id="estadoactivo"
                                                   checked>
                                            <span class="ic-small">Activo</span>
                                        </key>
                                        <key class="radio-inline">
                                            <input type="radio" name="radioestado" id="estadoinactivo">
                                            <span class="ic-small">Inactivo</span>
                                        </key>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="demo-wrapper html5-progress-bar">
                            <div class="progress-bar-wrapper">
                                <progress id="progressbar" value="0" max="100"></progress>
                                <span class="progress-value">0%</span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn green" data-ng-click="vm.salvarModelo()">Guardar</button>
                <button type="button" class="btn red" data-dismiss="modal">Cancelar</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div class="modal fade" id="modal-tarea-detalle" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header blue-hoki">
                <button aria-hidden="true" data-dismiss="modal" class="close" type="button"></button>
                <h4 class="modal-title" id="titulo-modal"></h4>
            </div>
            <div class="modal-body">
                <h5 id="tarea-descripcion"></h5>
                <h5 id="tarea-codigo"></h5>
                <h5 id="tarea-criticidad"></h5>
                <h5 id="tarea-cargo"></h5>
                <fieldset>
                    <legend>Documentos</legend>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="space20"></div>
                            <table class="table table-advance table-bordered table-hover table-striped"
                                   id="table-modelos-tarea">
                                <thead>
                                    <tr>
                                        <th>Descripción</th>
                                        <th class="text-center">Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-ng-repeat="item in tarea.modelos">
                                        <td></td>
                                        <td></td>
                                        <td class="text-center">
                                            <a class="btn btn-icon-only yellow download table-action" href="uploads/" target="_blank" data-original-title="" title="">
                                                <i class="fa fa-download fa-fw"></i>
                                            </a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn red" data-dismiss="modal">Cerrar</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<!-- Modal -->
<div data-ng-include="vm.urlPath + '/bundles/admin/app/layout/modal-eliminar.html'"></div>
<!-- END PAGE -->
<!-- END MAIN CONTENT -->
<!-- BEGIN MAIN JS & CSS -->
<script>

</script>
<!-- BEGIN MAIN JS & CSS -->